name: Test VPS Connection
on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Decode SSH key and test connection
        env:
          VPS_KEY: ${{ secrets.VPS_KEY }}
          VPS_HOST: ${{ secrets.VPS_HOST }}
          VPS_USER: ${{ secrets.VPS_USER }}
        run: |
          echo "$VPS_KEY" | base64 -d > id_rsa
          chmod 600 id_rsa
          echo "âœ… SSH Key decoded successfully"
          ssh -i id_rsa -o StrictHostKeyChecking=no $VPS_USER@$VPS_HOST "echo 'Connected to:' $(hostname); uptime; df -h | grep /dev/"
